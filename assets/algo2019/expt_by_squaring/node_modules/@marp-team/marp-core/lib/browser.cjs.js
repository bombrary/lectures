"use strict";var e,o,n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.name=e,this.version=t,this.os=n};t.BrowserInfo=n;var r=function(e){this.version=e,this.name="node",this.os=process.platform};t.NodeInfo=r;var i=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=i;var o=3,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],s=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function l(e){var t=""!==e&&a.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1);if(!t)return null;var r=t[0],s=t[1];if("searchbot"===r)return new i;var l=s[1]&&s[1].split(/[._]/).slice(0,3);return l?l.length<o&&(l=l.concat(function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(o-l.length))):l=[],new n(r,l.join("."),c(e))}function c(e){for(var t=0,n=s.length;t<n;t++){var r=s[t],i=r[0];if(r[1].test(e))return i}return null}function d(){return"undefined"!=typeof process&&process.version?new r(process.version.slice(1)):null}t.detect=function(){return"undefined"!=typeof navigator?l(navigator.userAgent):d()},t.parseUserAgent=l,t.detectOS=c,t.getNodeVersion=d}(e={exports:{}},e.exports),e.exports);(o=n)&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")&&o.default,n.BrowserInfo,n.NodeInfo,n.BotInfo;var r=n.detect;let i;n.parseUserAgent,n.detectOS,n.getNodeVersion;const s=["android","bb10","crios","facebook","fxios","instagram","ios-webview","ios","phantomjs","safari"];function d(){if(!i){i=[];const{name:e}=r()||{};s.includes(e)&&i.push(l)}return i}function l(e){Array.from(document.getElementsByTagName("svg"),t=>{if(t.hasAttribute("data-marpit-svg")){const{clientHeight:n,clientWidth:r}=t;t.style.transform||(t.style.transform="translateZ(0)");const i=e||t.currentScale||1,o=t.viewBox.baseVal.width/i,a=t.viewBox.baseVal.height/i,s=Math.min(n/a,r/o);Array.from(t.querySelectorAll(":scope > foreignObject"),e=>{const t=e.x.baseVal.value,i=e.y.baseVal.value;Array.from(e.querySelectorAll(":scope > section"),e=>{e.style.transformOrigin||(e.style.transformOrigin="0 0");const l=(r-s*o)/2-t,c=(n-s*a)/2-i;e.style.transform=`translate3d(${l}px,${c}px,0) scale(${s}) translate(${t}px,${i}px)`})})}})}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var marpit_plugin=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return(t,...n)=>{if(t.marpit)return e.call(this,t,...n);throw new Error("Marpit's markdown-it plugin requires `marpit` member.")}};t.default=n}),marpitPlugin=unwrapExports(marpit_plugin);function getThemeMeta(e,t){const{lastGlobalDirectives:n}=e,r=n?n.theme:void 0;return e.themeSet.getThemeProp(r,`meta.${t}`)}const attr="data-marp-fitting",code="data-marp-fitting-code",math="data-marp-fitting-math",svgContentAttr="data-marp-fitting-svg-content",svgContentWrapAttr="data-marp-fitting-svg-content-wrap",codeMatcher=/^(<pre[^>]*?><code[^>]*?>)([\s\S]*)(<\/code><\/pre>\n*)$/,isEnabledAutoScaling=(e,t)=>{const n=getThemeMeta(e,"auto-scaling")||"";return!!("true"===n||t&&n.includes(t))};function fittingCode(e){const{code_block:t,fence:n}=e.renderer.rules,r=t=>(...n)=>{const r=t(...n);return isEnabledAutoScaling(e.marpit,"code")?r.replace(codeMatcher,(t,n,r,i)=>e.marpit.options.inlineSVG?[`${n}<svg ${attr}="svg" ${code}><foreignObject>`,`<span ${svgContentAttr}><span ${svgContentWrapAttr}>`,r,`</span></span></foreignObject></svg>${i}`].join(""):`${n}<span ${attr}="plain">${r}</span>${i}`):r};e.renderer.rules.code_block=r(t),e.renderer.rules.fence=r(n)}function fittingHeader(e){e.core.ruler.after("inline","marp_fitting_header",e=>{let t=void 0;for(const n of e.tokens)if(t||"heading_open"!==n.type||(t=n),t)if("inline"===n.type){let t=!1;for(const e of n.children)"marpit_comment"===e.type&&"fit"===e.content&&(t=!0,e.meta=e.meta||{},e.meta.marpitCommentParsed="marp-fitting-header");if(t){const t=new e.Token("marp_fitting_open","span",1);t.attrSet(attr,"plain"),n.children=[t,...n.children,new e.Token("marp_fitting_close","span",-1)]}}else"heading_close"===n.type&&(t=void 0)}),e.renderer.rules.marp_fitting_open=(()=>isEnabledAutoScaling(e.marpit,"fittingHeader")?e.marpit.options.inlineSVG?`<svg ${attr}="svg"><foreignObject><span ${svgContentAttr}>`:`<span ${attr}="plain">`:""),e.renderer.rules.marp_fitting_close=(()=>isEnabledAutoScaling(e.marpit,"fittingHeader")?`</span>${e.marpit.options.inlineSVG?"</foreignObject></svg>":""}`:"")}function fittingMathBlock(e){const{marp_math_block:t}=e.renderer.rules;t&&(e.renderer.rules.marp_math_block=((...n)=>{const r=t(...n);if(isEnabledAutoScaling(e.marpit,"math")){const t=r.slice(3,-4);return e.marpit.options.inlineSVG?[`<p><svg ${attr}="svg" ${math}><foreignObject>`,`<span ${svgContentAttr}><span ${svgContentWrapAttr}>`,t,"</span></span></foreignObject></svg></p>"].join(""):`<p><span ${attr}="plain">${t}</span></p>`}return r}))}const markdown=marpitPlugin(e=>{e.use(fittingHeader).use(fittingCode).use(fittingMathBlock)}),updateAttr=(e,t,n)=>{if(e.getAttribute(t)!==n)return e.setAttribute(t,n),!0};function fittingObserver(){Array.from(document.querySelectorAll(`svg[${attr}="svg"]`),e=>{const t=e.firstChild,n=t.firstChild,{scrollWidth:r,scrollHeight:i}=n;let o,a=1;if(e.hasAttribute(code)&&(o=e.parentElement.parentElement),e.hasAttribute(math)&&(o=e.parentElement),o){const e=getComputedStyle(o),t=Math.ceil(o.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight));t&&(a=t)}const s=Math.max(r,a),l=Math.max(i,1),c=`0 0 ${s} ${l}`;updateAttr(t,"width",`${s}`),updateAttr(t,"height",`${l}`),updateAttr(e,"preserveAspectRatio",getComputedStyle(e).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),updateAttr(e,"viewBox",c)&&e.classList.toggle("__reflow__")})}function browser(e=!0){const t=()=>{for(const e of d())e();fittingObserver(),e&&window.requestAnimationFrame(t)};t()}module.exports=browser;
